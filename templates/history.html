{% extends "layout.html" %}
<!-- *sep -->
{% block title %}{% if level >= 0 %}
<img
  src="../static/img/{{ level }}_t.png"
  alt="wizdom pomidor"
  class="h1__img" />
{% endif %} Pomidoro history{% endblock %}
<!-- *sep -->
{% block head %}
<!-- ADDITIONAL HEADER CONTENT -->
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
  crossorigin="anonymous" />
{% endblock %}
<!--* sep -->
{% block bigH1 %} Pomidoro history {% endblock %}
<!-- *sep -->
{% block main %}
<main class="main history">
  <!-- == SETTINGS MENU == -->
  <div class="main__div settings">
    <button class="settings__button">&nbsp;</button>
    <span class="settings__username">{{ user_username }}</span>
    <div class="settings__content">
      <ul class="settings__ul">
        <li class="settings__item"><a href="/">Pomidoro</a></li>
        <li class="settings__item"><a href="/shop">Shop</a></li>
        <li class="settings__item"><a href="/history">History</a></li>
        <li class="settings__item"><a href="/feedback">Feedback</a></li>
        <li class="settings__item underline">
          <a class="settings__item settings__item--logout" href="/logout"
            >LOG OUT</a
          >
        </li>
      </ul>
    </div>
  </div>
  {% if usersHistory_table %}
  <h3 class="history__h2 h2__header">This is {{user_username}}'s history</h3>
  <table class="table table-striped history__table">
    <thead>
      <tr class="table-secondary">
        <th class="col">user</th>
        <th class="col">timestamp</th>
        <th class="col">action_type</th>
        <th class="col">üçÖpomidorsüçÖ</th>
      </tr>
    </thead>
    <tbody>
      {% for dict in usersHistory_table %}
      <tr>
        {% for column in dict %}
        <!-- sep -->
        {% if dict["action_type"] == 'reward' %}
        <td class="table-success">{{ dict[column] }}</td>
        {% elif dict["action_type"] == 'buy' %}
        <td class="table-warning">{{ dict[column] }}</td>
        {% elif dict["action_type"] == 'train' %}
        <td class="table-info">{{ dict[column] }}</td>
        {% elif dict["action_type"] == 'unlock' %}
        <td class="table-light">{{ dict[column] }}</td>
        {% else %}
        <td class="table-primary">{{ dict[column] }}</td>
        {% endif %}
        <!-- sep -->
        {% endfor %}
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% endif %}
  <!-- return to main page  -->
  <p><a href="/">Go back to home</a></p>
</main>
{% endblock %}
<!-- *sep -->
{% block footer %}
<footer class="footer"></footer>
<!--* upper script for declaring global variables that come from app.py  -->
<script type="text/javascript">
  // <!-- can insert global variables  -->
</script>
<!-- <script src="../static/js/script2.js"></script> -->
{% endblock %}
